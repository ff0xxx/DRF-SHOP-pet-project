# DRF-SHOP Pet Project

Этот проект представляет собой интернет-магазин, разработанный с использованием Django Rest Framework (DRF). В проекте реализованы основные функции для работы с покупателями, продавцами, товарами, корзиной и заказами. Также добавлены такие функции, как авторизация на основе JWT, фильтрация, пагинация, управление правами доступа и автоматическая документация API.

---

## Стек технологий

- **Backend**:
  - Python
  - Django
  - Django Rest Framework (DRF)
  - JWT (JSON Web Tokens) для аутентификации
  - PostgreSQL (или другая база данных по выбору)
  - Django Filter для фильтрации
  - Django CORS Headers для обработки CORS
  - DRF Throttling для дросселирования запросов
  - DRF SimpleJWT для работы с JWT
  - DRF Spectacular или Swagger для автоматической документации API

- **Архитектура**:
  - RESTful API

---

## Основные функции

### 1. **Модели и оптимизация**
- Использование абстрактных моделей для повторяющихся полей.
- Кастомные QuerySet для расширения функциональности моделей.
- Модели для покупателей, продавцов, магазинов, товаров и заказов.

### 2. **Аутентификация и авторизация**
- Реализация аутентификации на основе JWT токенов.
- Управление правами доступа (например, только продавцы могут управлять товарами).
- Эндпоинты для регистрации, получения и обновления токенов.

### 3. **Эндпоинты**
- **Профиль пользователя**: управление данными пользователя, загрузка файлов (например, аватар).
- **Продавцы и магазины**: создание, редактирование и удаление магазинов, управление товарами.
- **Корзина**: добавление, удаление и изменение товаров в корзине.
- **Заказы**: создание, просмотр и управление заказами.

### 4. **Фильтрация и пагинация**
- Фильтрация товаров по цене, количеству на складе, дате создания и другим параметрам.
- Пагинация для вывода товаров.

### 5. **Дополнительные функции**
- **CORS**: настройка кросс-доменных запросов.
- **Дросселирование**: ограничение количества запросов для защиты от злоупотреблений.
- **Версионирование API**: поддержка нескольких версий API.
- **Асинхронность**: выполнение задач в фоновом режиме (например, отправка email - планируется).

### 6. **Документация API**
- Использование DRF Spectacular или Swagger для автоматической генерации документации API.

---

## Установка и запуск

1. **Клонируйте репозиторий**:
   ```bash
   git clone https://github.com/ff0xxx/DRF-SHOP-pet-project.git
   cd DRF-SHOP-pet-project
   ```

2. **Установите зависимости**:
   ```bash
   pip install -r requirements.txt
   ```

3. **Примените миграции**:
   ```bash
   python manage.py migrate
   ```

4. **Запустите сервер**:
   ```bash
   python manage.py runserver
   ```

5. **Документация API**:
   - После запуска сервера откройте `http://127.0.0.1:8000/api/docs/`.

---

## Примеры запросов

### Регистрация пользователя
```bash
POST /auth/
{
  "email": "user5@example.com",
  "password": "securepassword123"
}
```

### Получение пары JWT токенов
```bash
POST /auth/token/
{
  "email": "user5@example.com",
  "password": "securepassword123"
}
```
![image_2025-03-23_23-31-14](https://github.com/user-attachments/assets/62dac613-ba8d-430a-bcde-a82948c5fb04)

### Получение списка товаров (с возможностью фильтрации & настроек пагинации)
```bash
GET /shop/products/
```
![image_2025-03-23_23-36-54](https://github.com/user-attachments/assets/616cd7e6-7042-4805-988a-6a61692cb8fe)


### Запросы к корзине
```bash
POST /shop/cart/
{
  "slug": "product-2",
  "quantity": 3
}
```
![image_2025-03-23_23-47-34](https://github.com/user-attachments/assets/27f71ef5-f8e3-435c-8b39-7e5f697db031)

---

## Архитектура проекта

### Модели
- **Покупатели**: `User`
- **Продавцы**: `Seller`
- **Товары**: `Product`, `Category`, `Review`
- **Заказы**: `Order`, `OrderItem`, `ShippingAddress`

### Сериализаторы
- Сериализаторы для каждой модели, включая динамические поля и валидацию.

### Вьюхи
- В основном APIView для реализации эндпоинтов, чтобы улучшить понимание.
- Кастомные permissions для управления доступом.

### Утилиты
- Абстрактные модели для повторяющихся полей.
- Кастомные QuerySet и Manager для расширения функциональности.

---

## Лицензия

Этот проект распространяется под лицензией MIT. Подробности см. в файле [LICENSE](LICENSE).
