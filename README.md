# DRF-SHOP Pet Project

Этот проект представляет собой интернет-магазин, разработанный с использованием Django Rest Framework (DRF). В проекте реализованы основные функции для работы с покупателями, продавцами, товарами, корзиной и заказами. Также добавлены такие функции, как авторизация на основе JWT, фильтрация, пагинация, управление правами доступа и автоматическая документация API.

---

## Стек технологий

- **Backend**:
  - Python
  - Django
  - Django Rest Framework (DRF)
  - JWT (JSON Web Tokens) для аутентификации
  - PostgreSQL (или другая база данных по выбору)
  - Django Filter для фильтрации
  - Django CORS Headers для обработки CORS
  - DRF Throttling для дросселирования запросов
  - DRF SimpleJWT для работы с JWT
  - DRF Spectacular или Swagger для автоматической документации API

- **Архитектура**:
  - RESTful API
  - Абстрактные модели для оптимизации кода
  - Кастомные QuerySet для расширения функциональности моделей
  - Версионирование API
  - Асинхронные задачи (если используется Celery или аналоги)

---

## Основные функции

### 1. **Модели и оптимизация**
- Использование абстрактных моделей для повторяющихся полей.
- Кастомные QuerySet для расширения функциональности моделей.
- Модели для покупателей, продавцов, магазинов, товаров и заказов.

### 2. **Аутентификация и авторизация**
- Реализация аутентификации на основе JWT токенов.
- Управление правами доступа (например, только продавцы могут управлять товарами).
- Эндпоинты для регистрации, входа, обновления токенов.

### 3. **Эндпоинты**
- **Профиль пользователя**: управление данными пользователя, загрузка файлов (например, аватар).
- **Продавцы и магазины**: создание, редактирование и удаление магазинов, управление товарами.
- **Корзина**: добавление, удаление и изменение товаров в корзине.
- **Заказы**: создание, просмотр и управление заказами.

### 4. **Фильтрация и пагинация**
- Фильтрация товаров по категориям, цене, рейтингу и другим параметрам.
- Пагинация для вывода товаров и заказов.

### 5. **Дополнительные функции**
- **CORS**: настройка кросс-доменных запросов.
- **Дросселирование**: ограничение количества запросов для защиты от злоупотреблений.
- **Версионирование API**: поддержка нескольких версий API.
- **Асинхронность**: выполнение задач в фоновом режиме (например, отправка email).

### 6. **Документация API**
- Использование DRF Spectacular или Swagger для автоматической генерации документации API.

---

## Установка и запуск

1. **Клонируйте репозиторий**:
   ```bash
   git clone https://github.com/ваш-username/DRF-SHOP-pet-project.git
   cd DRF-SHOP-pet-project
   ```

2. **Установите зависимости**:
   ```bash
   pip install -r requirements.txt
   ```

3. **Настройте базу данных**:
   - Создайте базу данных (например, PostgreSQL).
   - Настройте подключение в `settings.py`.

4. **Примените миграции**:
   ```bash
   python manage.py migrate
   ```

5. **Запустите сервер**:
   ```bash
   python manage.py runserver
   ```

6. **Документация API**:
   - После запуска сервера откройте `http://127.0.0.1:8000/swagger/` или `http://127.0.0.1:8000/redoc/`.

---

## Примеры запросов

### Регистрация пользователя
```bash
POST /api/auth/register/
{
    "username": "user123",
    "email": "user123@example.com",
    "password": "securepassword123"
}
```

### Вход в систему
```bash
POST /api/auth/login/
{
    "username": "user123",
    "password": "securepassword123"
}
```

### Получение списка товаров
```bash
GET /api/products/?category=electronics&min_price=100&max_price=500
```

### Создание заказа
```bash
POST /api/orders/
{
    "items": [
        {"product": 1, "quantity": 2},
        {"product": 2, "quantity": 1}
    ]
}
```

---

## Архитектура проекта

### Модели
- **Покупатели**: `Customer`, `Profile`
- **Продавцы**: `Seller`, `Shop`
- **Товары**: `Product`, `Category`
- **Заказы**: `Order`, `OrderItem`

### Сериализаторы
- Сериализаторы для каждой модели, включая динамические поля и валидацию.

### Вьюхи
- APIView, GenericViewSet, ModelViewSet для реализации эндпоинтов.
- Кастомные permissions для управления доступом.

### Утилиты
- Абстрактные модели для повторяющихся полей.
- Кастомные QuerySet для расширения функциональности.

---

## Лицензия

Этот проект распространяется под лицензией MIT. Подробности см. в файле [LICENSE](LICENSE).
